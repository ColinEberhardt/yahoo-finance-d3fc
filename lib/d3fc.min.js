!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3-array"),require("d3-scale"),require("d3-time"),require("d3-random"),require("d3-fetch"),require("d3-path"),require("d3-selection"),require("d3-shape"),require("d3-dispatch"),require("d3-brush")):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-scale","d3-time","d3-random","d3-fetch","d3-path","d3-selection","d3-shape","d3-dispatch","d3-brush"],t):t(n.fc=n.fc||{},n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3,n.d3)}(this,function(n,t,e,r,i,o,u,a,c,l,f){"use strict";function s(n){return n}function h(n){}function d(n){return"function"==typeof n?n:function(){return n}}function g(n){return"number"==typeof n&&isNaN(n)?void 0:n}function v(n,t){var e=[],r=!0,i=!1,o=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value,l=t.clampUp(c);l===t.clampDown(c)&&e.push(l)}}catch(n){i=!0,o=n}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return e}function m(n){var t=this;arguments.length||(n=e.scaleIdentity());var r=K(),i=function(t){var e=n.domain(),i=n.range(),o=r.distance(e[0],e[1]);return r.distance(e[0],t)/o*(i[1]-i[0])+i[0]};return i.invert=function(t){var e=n.domain(),i=n.range(),o=(t-i[0])/(i[1]-i[0]),u=r.distance(e[0],e[1]),a=o*u;return r.offset(e[0],a)},i.domain=function(){if(!arguments.length)return n.domain();var t=arguments.length<=0?void 0:arguments[0],e=r.clampUp(t[0]),o=r.clampDown(t[1]);return n.domain([e,o]),i},i.nice=function(){n.nice();var t=n.domain(),e=r.clampUp(t[0]),o=r.clampDown(t[1]);return n.domain([e,o]),i},i.ticks=function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return v(n.ticks.apply(t,i),r)},i.copy=function(){return m(n.copy()).discontinuityProvider(r.copy())},i.discontinuityProvider=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},_(i,n,E("range","rangeRound","interpolate","clamp","tickFormat")),i}function p(n){return"function"==typeof n?n:function(){return n}}function y(){var n=arguments;return function(t,e){for(var r=0,i=n.length;r<i;r++)if(null==n[r](t,e))return!1;return!0}}function w(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}function x(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}var b=function(n,t,e){var r=t[e];if("function"!=typeof r)throw new Error("Attempt to rebind "+e+" which isn't a function on the source object");return function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];var u=r.apply(t,i);return u===t?n:u}},S=function(n,t){for(var e=arguments.length,r=Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];var o=!0,u=!1,a=void 0;try{for(var c,l=r[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value;n[f]=b(n,t,f)}}catch(n){u=!0,a=n}finally{try{!o&&l.return&&l.return()}finally{if(u)throw a}}return n},k=function(n){return function(t){return n.reduce(function(n,t){return n&&t(n)},t)}},_=function(n,t){for(var e=arguments.length,r=Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];var o=k(r),u=!0,a=!1,c=void 0;try{for(var l,f=Object.keys(t)[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var s=l.value,h=o(s);h&&(n[h]=b(n,t,s))}}catch(n){a=!0,c=n}finally{try{!u&&f.return&&f.return()}finally{if(a)throw c}}return n},A=function(n){return n.map(function(n){return"string"==typeof n?new RegExp("^"+n+"$"):n})},T=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return t=A(t),function(n){return t.every(function(t){return!t.test(n)})&&n}},E=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return t=A(t),function(n){return t.some(function(t){return t.test(n)})&&n}},D=function(n){return function(t){return n[t]}},O=function(n){return n[0].toUpperCase()+n.slice(1)},z=function(n){return function(t){return n+O(t)}},M=function(){var n=function(){return 10},t=h,e=s,r=function(n){return null!=n},i=function(i){var o=n.apply(this,arguments),u=i.slice(0,o).map(e);return i.map(function(n,i){return i>=o&&(u.shift(),u.push(e(n,i))),i<o-1||u.some(function(n){return!r(n)})?t(void 0,i):t(u,i)})};return i.period=function(){return arguments.length?(n=d(arguments.length<=0?void 0:arguments[0]),i):n},i.accumulator=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.defined=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.value=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i},P=function(){var n=2,e=M().accumulator(function(e){var r=e&&t.deviation(e),i=e&&t.mean(e);return{average:i,upper:g(i+n*r),lower:g(i-n*r)}}),r=function(n){return e(n)};return r.multiplier=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},S(r,e,"period","value"),r},I=function(){var n=s,e=function(){return 9},r=function(n){var e=[];return function(r){var i=void 0;return e.length<n&&(null!=r?e.push(r):e=[]),e.length>=n&&(i=t.mean(e)),i}},i=function(t){var i=e.apply(this,arguments),o=2/(i+1),u=r(i),a=void 0;return t.map(function(t,e){var r=n(t,e);return a=void 0===a?u(r):r*o+(1-o)*a,g(a)})};return i.period=function(){return arguments.length?(e=d(arguments.length<=0?void 0:arguments[0]),i):e},i.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i},V=function(){var n=s,e=I().period(12),r=I().period(26),i=I().period(9),o=function(o){e.value(n),r.value(n);var u=t.zip(e(o),r(o)).map(function(n){return void 0!==n[0]&&void 0!==n[1]?n[0]-n[1]:void 0}),a=i(u);return t.zip(u,a).map(function(n){return{macd:n[0],signal:n[1],divergence:void 0!==n[0]&&void 0!==n[1]?n[0]-n[1]:void 0}})};return o.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},_(o,e,D({period:"fastPeriod"})),_(o,r,D({period:"slowPeriod"})),_(o,i,D({period:"signalPeriod"})),o},C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},L=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},R=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),j=function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},B=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t},N=function(){function n(n,t){var e=[],r=!0,i=!1,o=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!t||e.length!==t);r=!0);}catch(n){i=!0,o=n}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),q=function(n){return Array.isArray(n)?n:Array.from(n)},Q=function(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)},G=function(){var n=M().period(14),e=function(n,t){return t+(n[n.length-1]-t)/n.length},r=function(n){var t=N(n,2),e=t[0],r=t[1];return e<r?0:e-r},i=function(n){var t=N(n,2),e=t[0],r=t[1];return e>r?0:r-e},o=function(n,r){return void 0!==r?e(n,r):t.mean(n)},u=function(){var n=void 0,e=void 0,u=void 0;return function(a){if(!a)return void(void 0!==n&&(n=NaN));if(void 0===n)return void(n=a[0]);var c=t.pairs([n].concat(Q(a)));return e=o(c.map(r),e),u=o(c.map(i),u),g(100-100/(1+(isNaN(n)?NaN:u/e)))}},a=function(t){var e=u();return n.accumulator(e),n(t)};return S(a,n,"period","value"),a},U=function(){var n=M().accumulator(function(n){return n&&t.mean(n)}),e=function(t){return n(t)};return S(e,n,"period","value"),e},F=function(){var n=function(n,t){return n.close},e=function(n,t){return n.high},r=function(n,t){return n.low},i=M().period(5).defined(function(t){return null!=n(t)&&null!=e(t)&&null!=r(t)}).accumulator(function(i){var o=i&&t.max(i,e),u=i&&t.min(i,r);return g(i&&100*(n(i[i.length-1])-u)/(o-u))}),o=U().period(3),u=function(n){var t=i(n),e=o(t);return t.map(function(n,t){return{k:n,d:e[t]}})};return u.closeValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],u):n},u.highValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],u):e},u.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],u):r},_(u,i,D({period:"kPeriod"})),_(u,o,D({period:"dPeriod"})),u},H=function(){var n=function(n,t){return n.volume},t=function(n,t){return n.close},e=I().period(13),r=M().period(2).defined(function(e){return null!=t(e)&&null!=n(e)}).accumulator(function(e){return e&&g((t(e[1])-t(e[0]))*n(e[1]))}),i=function(n){var t=r(n);return e(t)};return i.volumeValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.closeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},S(i,e,"period"),i},Y=function(){var n=.1,t=s,e=function(e){return e.map(function(e){return{lower:g(t(e)*(1-n)),upper:g(t(e)*(1+n))}})};return e.factor=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],e):n},e.value=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e):t},e},X=function(){var n=function(n,t){return n.close},e=function(n,t){return n.high},r=function(n,t){return n.low},i=I().period(13),o=function(o){return i.value(n),t.zip(o,i(o)).map(function(n){return{bullPower:g(e(n[0])-n[1]),bearPower:g(r(n[0])-n[1])}})};return o.closeValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.highValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},S(o,i,"period"),o},K=function(){var n={};return n.distance=function(n,t){return t-n},n.offset=function(n,t){return n instanceof Date?new Date(n.getTime()+t):n+t},n.clampUp=function(n){return n},n.clampDown=function(n){return n},n.copy=function(){return n},n},W=function(){var n={sunday:0,monday:1,saturday:6},t={},e=function(n){return 0===n.getDay()||6===n.getDay()};return t.clampDown=function(t){if(t&&e(t)){var i=r.timeDay.ceil(t);return i.getDay()===n.sunday?r.timeDay.offset(i,-1):i.getDay()===n.monday?r.timeDay.offset(i,-2):i}return t},t.clampUp=function(t){if(t&&e(t)){var i=r.timeDay.floor(t);return i.getDay()===n.saturday?r.timeDay.offset(i,2):i.getDay()===n.sunday?r.timeDay.offset(i,1):i}return t},t.distance=function(n,e){n=t.clampUp(n),e=t.clampDown(e);var i=r.timeSaturday.ceil(n);if(e<i)return e.getTime()-n.getTime();var o=i.getTime()-n.getTime(),u=r.timeSaturday.ceil(e),a=u.getTime()-e.getTime();return 432e6*Math.round((u.getTime()-i.getTime())/6048e5)+o-a},t.offset=function(n,i){var o=e(n)?t.clampUp(n):n;if(0===i)return o;var u=i<0,a=i>0,c=i,l=u?r.timeMonday.floor(o):r.timeSaturday.ceil(o);if(c-=l.getTime()-o.getTime(),u&&c>0||a&&c<0)return new Date(o.getTime()+i);o=u?l:r.timeDay.offset(l,2);var f=Math.floor(c/432e6);return o=r.timeDay.offset(o,7*f),c-=432e6*f,o=new Date(o.getTime()+c)},t.copy=function(){return t},t},J=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];var r=function(n,t){return n>t[0]&&n<t[1]},i=function(n,t){return n[0]>=t[0]&&n[1]<=t[1]},o={};o.distance=function(n,e){n=o.clampUp(n),e=o.clampDown(e);var r=t.filter(function(t){return i(t,[n,e])}),u=r.map(function(n){return n[1]-n[0]});return e-n-u.reduce(function(n,t){return n+t},0)};var u=function(n,t){return n instanceof Date?new Date(n.getTime()+t):n+t};return o.offset=function(n,e){if(e>0){var r=function(){for(var r=o.clampUp(n),i=e;i>0;){var a=t.filter(function(n){return n[0]>r}).sort(function(n,t){return n[0]-t[0]});if(a.length){var c=a[0],l=c[0]-r;l>i?(r=u(r,i),i=0):(r=c[1],i-=l)}else r=u(r,i),i=0}return{v:r}}();if("object"===(void 0===r?"undefined":C(r)))return r.v}else{var i=function(){for(var r=o.clampDown(n),i=e;i<0;){var a=t.filter(function(n){return n[1]<r}).sort(function(n,t){return t[0]-n[0]});if(a.length){var c=a[0],l=c[1]-r;l<i?(r=u(r,i),i=0):(r=c[0],i-=l)}else r=u(r,i),i=0}return{v:r}}();if("object"===(void 0===i?"undefined":C(i)))return i.v}},o.clampUp=function(n){return t.reduce(function(n,t){return r(n,t)?t[1]:n},n)},o.clampDown=function(n){return t.reduce(function(n,t){return r(n,t)?t[0]:n},n)},o.copy=function(){return o},o},Z=function(){var n=[function(n){return n}],e=[0,0],r="percent",i=null,o=[],u=function(u){var a=new Array(u.length),c=!0,l=!1,f=void 0;try{for(var s,h=n[Symbol.iterator]();!(c=(s=h.next()).done);c=!0)for(var d=s.value,g=0;g<u.length;g++){var v=d(u[g],g);Array.isArray(v)?a.push.apply(a,Q(v)):a.push(v)}}catch(n){l=!0,f=n}finally{try{!c&&h.return&&h.return()}finally{if(l)throw f}}var m=[t.min(a),t.max(a)];if(m[0]=null==m[0]?t.min(o):t.min([m[0]].concat(Q(o))),m[1]=null==m[1]?t.max(o):t.max([m[1]].concat(Q(o))),null!=i){var p=Math.max(Math.abs(m[1]-i),Math.abs(m[0]-i));m[0]=i-p,m[1]=i+p}switch(r){case"domain":m[0]-=e[0],m[1]+=e[1];break;case"percent":var y=m[1]-m[0];m[0]-=e[0]*y,m[1]+=e[1]*y;break;default:throw new Error("Unknown padUnit: "+r)}return m};return u.accessors=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],u):n},u.pad=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],u):e},u.padUnit=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],u):r},u.include=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],u):o},u.symmetricalAbout=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],u):i},u},$=function(){var n=[],t=[0,0],e="percent",r=null,i=[],o=Z(),u=function(n){return null!=n?n.valueOf():null},a=function(a){var c=n.map(function(n){return function(){var t=n.apply(void 0,arguments);return Array.isArray(t)?t.map(u):u(t)}});return o.accessors(c).pad(t).padUnit(e).symmetricalAbout(null!=r?r.valueOf():null).include(i.map(function(n){return n.valueOf()})),o(a).map(function(n){return new Date(n)})};return a.accessors=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.pad=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.padUnit=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.include=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a.symmetricalAbout=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a},nn=function(){var n=1,t=20,e=.1,r=.1,o=i.randomNormal(),u=function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,u=n/t,a=[],c=0;c<t+1;c++){a.push(i);var l=o()*Math.sqrt(u)*r+(e-r*r/2)*u;i*=Math.exp(l)}return a};return u.period=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],u):n},u.steps=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.mu=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],u):e},u.sigma=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],u):r},u.random=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],u):o},u},tn=function(){var n=new Date,t=100,e=r.timeDay,o=1,u=r.timeYear,a=1,c=null,l=function(){var n=i.randomNormal(1,.1);return Math.ceil(1e3*n())},f=nn(),s=function(n){var t=u.offset(n,a)-n;return(e.offset(n,o)-n)/t},h=function(n,t){var e=s(n),r=f.period(e)(t),i={date:n,open:r[0],high:Math.max.apply(Math,r),low:Math.min.apply(Math,r),close:r[f.steps()]};return i.volume=l(i),i},d=function(r){var i=void 0,u=void 0,a=void 0;do{i=r?e.offset(r.date,o):new Date(n.getTime()),u=r?r.close:t,r=h(i,u),a=c&&!c(r)}while(a);return r},g=function(){var n=void 0,t={};return t.next=function(){var t=d(n);return n=t,t},t.take=function(n){return t.until(function(t,e){return!n||n<0||e===n})},t.until=function(t){for(var e=[],r=0,i=d(n),o=t&&!t(i,r);o;)e.push(i),n=i,i=d(n),r+=1,o=t&&!t(i,r);return e},t},v=function(n){return g().take(n)};if(v.stream=g,"function"!=typeof Symbol||"symbol"!==C(Symbol.iterator))throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return v[Symbol.iterator]=function(){var n=g();return{next:function(){return{value:n.next(),done:!1}}}},v.startDate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],v):n},v.startPrice=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],v):t},v.interval=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],v):e},v.intervalStep=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],v):o},v.unitInterval=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],v):u},v.unitIntervalStep=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],v):a},v.filter=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],v):c},v.volume=function(){return arguments.length?(l=p(arguments.length<=0?void 0:arguments[0]),v):l},_(v,f),v},en=function(n){var t=n.date.getDay();return!(0===t||6===t)},rn=function(){var n="BTC-USD",t=null,e=null,r=null,i=function(){var i=[];null!=t&&i.push("start="+t.toISOString()),null!=e&&i.push("end="+e.toISOString()),null!=r&&i.push("granularity="+r);var u="https://api.gdax.com/products/"+n+"/candles?"+i.join("&");return o.json(u).then(function(n){return n.map(function(n){return{date:new Date(1e3*n[0]),open:n[3],high:n[2],low:n[1],close:n[4],volume:n[5]}})})};return i.product=function(t){return arguments.length?(n=t,i):n},i.start=function(n){return arguments.length?(t=n,i):t},i.end=function(n){return arguments.length?(e=n,i):e},i.granularity=function(n){return arguments.length?(r=n,i):r},i},on=function(){function n(n){return n[0].toLowerCase()+n.substr(1)}var t="YAHOO",e="GOOG",r=null,i=null,u=null,a=null,c=!1,l=null,f=n,s=function(){var n=[];null!=r&&n.push("api_key="+r),null!=i&&n.push("start_date="+i.toISOString().substring(0,10)),null!=u&&n.push("end_date="+u.toISOString().substring(0,10)),null!=a&&n.push("rows="+a),c||n.push("order=asc"),null!=l&&n.push("collapse="+l);var s="https://www.quandl.com/api/v3/datasets/"+t+"/"+e+"/data.json?"+n.join("&");return o.json(s).then(function(n){var t=n.dataset_data,e=f||function(n){return n},r=t.column_names.map(function(n,t){return[t,e(n)]}).filter(function(n){return n[1]});return t.data.map(function(n){var t={};return r.forEach(function(e){t[e[1]]=0===e[0]?new Date(n[e[0]]):n[e[0]]}),t})})};return s.database=function(n){return arguments.length?(t=n,s):t},s.dataset=function(n){return arguments.length?(e=n,s):e},s.apiKey=function(n){return arguments.length?(r=n,s):r},s.start=function(n){return arguments.length?(i=n,s):i},s.end=function(n){return arguments.length?(u=n,s):u},s.rows=function(n){return arguments.length?(a=n,s):a},s.descending=function(n){return arguments.length?(c=n,s):c},s.collapse=function(n){return arguments.length?(l=n,s):l},s.columnNameMap=function(n){return arguments.length?(f=n,s):f},s.defaultColumnNameMap=n,s},un=function(){var n=10,e=function(e){return n<=1?e.map(function(n){return[n]}):t.range(0,Math.ceil(e.length/n)).map(function(t){return e.slice(t*n,(t+1)*n)})};return e.bucketSize=function(t){return arguments.length?(n=t,e):n},e},an=function(){function n(n){var e=n.map(function(n){return[r(n),i(n)]});return t.range(1,e.length-1).map(function(n){var t=e[n-1],r=e[n],i=e[n+1];return.5*Math.abs((t[0]-i[0])*(r[1]-t[1])-(t[0]-r[0])*(i[1]-t[1]))})}var e=un(),r=function(n){return n},i=function(n){return n},o=function(r){if(e.bucketSize()>=r.length)return r;var i=n(r),o=e(i),u=e(r.slice(1,r.length-1)),a=u.map(function(n,e){var r=o[e],i=t.max(r);return n[r.indexOf(i)]});return[].concat([r[0]],a,[r[r.length-1]])};return S(o,e,"bucketSize"),o.x=function(n){return arguments.length?(r=n,o):r},o.y=function(n){return arguments.length?(i=n,o):i},o},cn=function(){var n=function(n){return n},e=function(n){return n},r=un(),i=function(i){if(r.bucketSize()>=i.length)return i;var o=r(i.slice(1,i.length-1)),u=i[0],a=i[i.length-1],c=[].concat([u],o,[a]),l=n(u),f=e(u),s=o.map(function(r,i){var o=t.mean(c[i+1],n),u=t.mean(c[i+1],e),a=r.map(function(t){return[n(t),e(t)]}),s=a.map(function(n){return.5*Math.abs((l-o)*(n[1]-f)-(l-n[0])*(u-f))}),h=s.indexOf(t.max(s)),d=a[h];return l=d[0],f=d[1],r[h]});return[].concat([i[0]],s,[i[i.length-1]])};return S(i,r,"bucketSize"),i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(n){return arguments.length?(e=n,i):e},i},ln=function(){var n=un(),e=function(n){return n},r=function(r){if(n.bucketSize()>r.length)return r;var i=t.extent(r,e),o=n(r.slice(1,r.length-1)),u=o.map(function(n,t){var r,o,u={},a=!0,c=n.map(e),l=c.filter(function(n){return n===i[0]||n===i[1]}).map(function(n){return c.indexOf(n)})[0];return void 0!==l?n[l]:(c.forEach(function(n,t){void 0===u[n]&&(u[n]=0),u[n]++,u[n]>u[r]||void 0===r?(r=n,o=t,a=!0):u[n]===u[r]&&(a=!1)}),a?n[o]:n[Math.floor(n.length/2)])});return[].concat([r[0]],u,[r[r.length-1]])};return S(r,n,"bucketSize"),r.value=function(n){return arguments.length?(e=n,r):e},r},fn=function(n){return"function"==typeof n?n:function(){return n}},sn=function(){var n=null,t=function(n){return n.date},e=function(n){return n.open},r=function(n){return n.high},i=function(n){return n.low},o=function(n){return n.close},a="vertical",c=fn(3),l=function(l){var f=n||u.path();return l.forEach(function(n,u){var l=t(n,u),s=e(n,u),h=r(n,u),d=i(n,u),g=o(n,u),v=c(n,u)/2;"vertical"===a?(f.moveTo(l,d),f.lineTo(l,h),f.moveTo(l,s),f.lineTo(l-v,s),f.moveTo(l,g),f.lineTo(l+v,g)):(f.moveTo(d,l),f.lineTo(h,l),f.moveTo(s,l),f.lineTo(s,l+v),f.moveTo(g,l),f.lineTo(g,l-v))}),n?null:f.toString()};return l.context=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],l):n},l.x=function(){return arguments.length?(t=fn(arguments.length<=0?void 0:arguments[0]),l):t},l.open=function(){return arguments.length?(e=fn(arguments.length<=0?void 0:arguments[0]),l):e},l.high=function(){return arguments.length?(r=fn(arguments.length<=0?void 0:arguments[0]),l):r},l.low=function(){return arguments.length?(i=fn(arguments.length<=0?void 0:arguments[0]),l):i},l.close=function(){return arguments.length?(o=fn(arguments.length<=0?void 0:arguments[0]),l):o},l.width=function(){return arguments.length?(c=fn(arguments.length<=0?void 0:arguments[0]),l):c},l.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l},hn=function(){var n=null,t=function(n){return n.x},e=function(n){return n.y},r="center",i="center",o=function(n){return n.height},a=fn(3),c=function(c,l){var f=n||u.path();return c.forEach(function(n,u){var c=t.call(this,n,l||u),s=e.call(this,n,l||u),h=o.call(this,n,l||u),d=a.call(this,n,l||u),g=void 0;switch(r){case"left":g=d;break;case"right":g=0;break;case"center":g=d/2;break;default:throw new Error("Invalid horizontal alignment "+r)}var v=void 0;switch(i){case"bottom":v=-h;break;case"top":v=0;break;case"center":v=h/2;break;default:throw new Error("Invalid vertical alignment "+i)}f.rect(c-g,s-v,d,h)},this),n?null:f.toString()};return c.context=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],c):n},c.x=function(){return arguments.length?(t=fn(arguments.length<=0?void 0:arguments[0]),c):t},c.y=function(){return arguments.length?(e=fn(arguments.length<=0?void 0:arguments[0]),c):e},c.width=function(){return arguments.length?(a=fn(arguments.length<=0?void 0:arguments[0]),c):a},c.horizontalAlign=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.height=function(){return arguments.length?(o=fn(arguments.length<=0?void 0:arguments[0]),c):o},c.verticalAlign=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],c):i},c},dn=function(){var n=null,t=function(n){return n.date},e=function(n){return n.open},r=function(n){return n.high},i=function(n){return n.low},o=function(n){return n.close},a=fn(3),c=function(c){var l=n||u.path();return c.forEach(function(n,u){var c=t(n,u),f=e(n,u),s=r(n,u),h=i(n,u),d=o(n,u),g=a(n,u),v=g/2;l.rect(c-v,f,g,d-f),l.moveTo(c,Math.min(d,f)),l.lineTo(c,s),l.moveTo(c,Math.max(d,f)),l.lineTo(c,h)}),n?null:l.toString()};return c.context=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],c):n},c.x=function(){return arguments.length?(t=fn(arguments.length<=0?void 0:arguments[0]),c):t},c.open=function(){return arguments.length?(e=fn(arguments.length<=0?void 0:arguments[0]),c):e},c.high=function(){return arguments.length?(r=fn(arguments.length<=0?void 0:arguments[0]),c):r},c.low=function(){return arguments.length?(i=fn(arguments.length<=0?void 0:arguments[0]),c):i},c.close=function(){return arguments.length?(o=fn(arguments.length<=0?void 0:arguments[0]),c):o},c.width=function(){return arguments.length?(a=fn(arguments.length<=0?void 0:arguments[0]),c):a},c},gn=function(){var n=null,t=function(n){return n.value},e=function(n){return n.median},r=function(n){return n.upperQuartile},i=function(n){return n.lowerQuartile},o=function(n){return n.high},a=function(n){return n.low},c="vertical",l=fn(5),f=fn(.5),s=function(s){var h=n||u.path();return s.forEach(function(n,u){var s=t(n,u),d=l(n,u),g=d/2,v=d*f(n,u),m=v/2,p=o(n,u),y=r(n,u),w=e(n,u),x=i(n,u),b=a(n,u),S=x-y;"vertical"===c?(h.moveTo(s-m,p),h.lineTo(s+m,p),h.moveTo(s,p),h.lineTo(s,y),h.rect(s-g,y,d,S),h.moveTo(s-g,w),h.lineTo(s+g,w),h.moveTo(s,x),h.lineTo(s,b),h.moveTo(s-m,b),h.lineTo(s+m,b)):(h.moveTo(b,s-m),h.lineTo(b,s+m),h.moveTo(b,s),h.lineTo(x,s),h.rect(x,s-g,-S,d),h.moveTo(w,s-g),h.lineTo(w,s+g),h.moveTo(y,s),h.lineTo(p,s),h.moveTo(p,s-m),h.lineTo(p,s+m))}),n?null:h.toString()};return s.context=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],s):n},s.value=function(){return arguments.length?(t=fn(arguments.length<=0?void 0:arguments[0]),s):t},s.median=function(){return arguments.length?(e=fn(arguments.length<=0?void 0:arguments[0]),s):e},s.upperQuartile=function(){return arguments.length?(r=fn(arguments.length<=0?void 0:arguments[0]),s):r},s.lowerQuartile=function(){return arguments.length?(i=fn(arguments.length<=0?void 0:arguments[0]),s):i},s.high=function(){return arguments.length?(o=fn(arguments.length<=0?void 0:arguments[0]),s):o},s.low=function(){return arguments.length?(a=fn(arguments.length<=0?void 0:arguments[0]),s):a},s.width=function(){return arguments.length?(l=fn(arguments.length<=0?void 0:arguments[0]),s):l},s.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],s):c},s.cap=function(){return arguments.length?(f=fn(arguments.length<=0?void 0:arguments[0]),s):f},s},vn=function(){var n=null,t=function(n){return n.x},e=function(n){return n.high},r=function(n){return n.low},i="vertical",o=fn(5),a=function(a){var c=n||u.path();return a.forEach(function(n,u){var a=t(n,u),l=o(n,u),f=l/2,s=e(n,u),h=r(n,u);"vertical"===i?(c.moveTo(a-f,s),c.lineTo(a+f,s),c.moveTo(a,s),c.lineTo(a,h),c.moveTo(a-f,h),c.lineTo(a+f,h)):(c.moveTo(h,a-f),c.lineTo(h,a+f),c.moveTo(h,a),c.lineTo(s,a),c.moveTo(s,a-f),c.lineTo(s,a+f))}),n?null:c.toString()};return a.context=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.value=function(){return arguments.length?(t=fn(arguments.length<=0?void 0:arguments[0]),a):t},a.high=function(){return arguments.length?(e=fn(arguments.length<=0?void 0:arguments[0]),a):e},a.low=function(){return arguments.length?(r=fn(arguments.length<=0?void 0:arguments[0]),a):r},a.width=function(){return arguments.length?(o=fn(arguments.length<=0?void 0:arguments[0]),a):o},a.orient=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a},mn=function(n){return"function"==typeof n?n:function(){return n}},pn=function(n,t){n=n||"g";var e=function(n,t){return t},r=null,i=function(i,o){o=o||function(n){return n};var u=i.selection?i:null;u&&(i=i.selection());var a=i.selectAll(function(n,t,e){return Array.from(e[t].childNodes).filter(function(n){return 1===n.nodeType})}).filter(null==t?n:n+"."+t),c=a.data(o,e),l=c.enter().append(n).attr("class",t),f=c.exit();c=c.merge(l);var s=u||r;return s&&(c=c.transition(s).style("opacity",1),l.style("opacity",1e-6),f=f.transition(s).style("opacity",1e-6)),f.remove(),c.enter=function(){return l},c.exit=function(){return f},c};return i.element=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.className=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.key=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.transition=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i},yn=function(n){var t=function(){},r=function(){return[0,0]},i=function(n,t){return[n.x,n.y]},o=n||function(n){return n},u=function(){},c=e.scaleIdentity(),l=e.scaleIdentity(),f=pn("g","label"),s=function(n){n.each(function(n,e,s){var h=f(a.select(s[e]),n).call(u),d=h.nodes(),g=d.map(function(n,t){var e=a.select(n).datum(),o=i(e,t,d),u=[c(o[0]),l(o[1])],f=r(e,t,d);return{hidden:!1,x:u[0],y:u[1],width:f[0],height:f[1]}}),v=o(g);h.attr("style",function(n,t){return"display:"+(v[t].hidden?"none":"inherit")}).attr("transform",function(n,t){return"translate("+v[t].x+", "+v[t].y+")"}).attr("layout-width",function(n,t){return v[t].width}).attr("layout-height",function(n,t){return v[t].height}).attr("anchor-x",function(n,t,e){return g[t].x-v[t].x}).attr("anchor-y",function(n,t,e){return g[t].y-v[t].y}),h.call(u),t(h,n,e)})};return _(s,f,E("key")),_(s,o),s.size=function(){return arguments.length?(r=mn(arguments.length<=0?void 0:arguments[0]),s):r},s.position=function(){return arguments.length?(i=mn(arguments.length<=0?void 0:arguments[0]),s):i},s.component=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],s):u},s.decorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],s):c},s.yScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],s):l},s},wn=function(n){var t=2,e=function(n){return n},r=pn("text"),i=pn("rect"),o=pn("circle"),u=function(n){n.each(function(n,u,c){var l=c[u],f=a.select(l),s=Number(l.getAttribute("layout-width")),h=Number(l.getAttribute("layout-height"));i(f,[n]).attr("width",s).attr("height",h);var d=Number(l.getAttribute("anchor-x")),g=Number(l.getAttribute("anchor-y"));o(f,[n]).attr("r",2).attr("cx",d).attr("cy",g);var v=r(f,[n]);v.enter().attr("dy","0.9em").attr("transform","translate("+t+", "+t+")"),v.text(e)})};return u.padding=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.value=function(){return arguments.length?(e=mn(arguments.length<=0?void 0:arguments[0]),u):e},u},xn=function(n,t){return!(n.x>=t.x+t.width||n.x+n.width<=t.x||n.y>=t.y+t.height||n.y+n.height<=t.y)},bn=function(n,t){if(xn(n,t)){var e=Math.max(n.x,t.x),r=Math.min(n.x+n.width,t.x+t.width),i=Math.max(n.y,t.y);return(r-e)*(Math.min(n.y+n.height,t.y+t.height)-i)}return 0},Sn=function(n,e){return t.sum(n.map(function(t,r){return e===r?0:bn(n[e],t)}))},kn=function(n,t,e,r,i){return{x:n,y:t,width:e,height:r,location:i}},_n=function(n){var t=n.x,e=n.y,r=n.width,i=n.height
;return[kn(t,e,r,i,"bottom-right"),kn(t-r,e,r,i,"bottom-left"),kn(t-r,e-i,r,i,"top-left"),kn(t,e-i,r,i,"top-right"),kn(t,e-i/2,r,i,"middle-right"),kn(t-r/2,e,r,i,"bottom-center"),kn(t-r,e-i/2,r,i,"middle-left"),kn(t-r/2,e-i,r,i,"top-center")]},An=function(n,t,e){return[].concat(Q(n.slice(0,t)),[e],Q(n.slice(t+1)))},Tn=function(n,t){return n<t},En=function n(){var e=null,r=Tn,i=function(){return 0},o=void 0,u=function(n,t){return e-i(o[t],t,o)+i(n,t,An(o,t,n))},a=function a(c,l){e||(e=t.sum(o.map(function(n,t){return i(n,t,o)})));var f=u(c,l);return r(f,e)?n().locationScore(i).winningScore(r).score(f).rectangles(An(o,l,c)):a};return a.rectangles=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],a):o},a.score=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.winningScore=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.locationScore=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a},Dn=function(){var n=void 0,t=function(t){return n?t.width*t.height-bn(t,n):0},e=function(n,e,r){return Sn(r,e)+t(n)},r=function(n){var t=En().locationScore(e).rectangles(n);return n.forEach(function(n,e){_n(n).forEach(function(n,r){t=t(n,e)})}),t.rectangles()};return r.bounds=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r},On=function(n){return n[zn(n)]},zn=function(n){return Math.floor(Math.random()*n.length)},Mn=function(){var n=1e3,t=1,e=void 0,r=function(n){switch(n.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return n.width*n.height/8}return n.width*n.height/4},i=function(n){return e?n.width*n.height-bn(n,e):0},o=function(n,t,e){return Sn(e,t)+i(n)+r(n)},u=function(e){for(var r=n,i=function(n,t){return Math.exp((t-n)/r)>Math.random()},u=En().locationScore(o).winningScore(i).rectangles(e);r>0;){var a=zn(e);u=u(On(_n(e[a])),a),r-=t}return u.rectangles()};return u.temperature=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],u):n},u.cooling=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.bounds=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],u):e},u},Pn=function(n,e){return n[t.scan(n,e)]},In=function(n){n=n||function(n){return n};var t=function(t){t=n(t);for(;;){if("break"===function(){var n=t.filter(function(n){return!n.hidden}),e=n.map(function(t,e){return[t,Sn(n,e)]}),r=Pn(e,function(n,t){return t[1]-n[1]});if(!(r[1]>0))return"break";r[0].hidden=!0}())break}return t};return _(t,n),t},Vn=function(){var n=[0,0],t=function(t){return t.map(function(t,e){var r=t.x,i=t.y;return r+t.width>n[0]&&(r-=t.width),i+t.height>n[1]&&(i-=t.height),{height:t.height,width:t.width,x:r,y:i}})};return t.bounds=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],t):n},t},Cn=function(n){return"function"==typeof n?n:function(){return n}},Ln=function(n,t){switch(n){case"left":return t/2;case"right":return-t/2;default:return 0}},Rn=function(n){var t=Object.assign({},n),e=function(){};return Object.keys(t).forEach(function(n){e[n]=function(){return arguments.length?(t[n]=arguments.length<=0?void 0:arguments[0],e):t[n]}}),e},jn=function(){var n=function(){return 0},t=function(n){return n.x},r=function(n){return n.y},i="center",o=function(){return 5},u="vertical",a=Rn({decorate:function(){},defined:function(e,i){return y(n,t,r)(e,i)},xScale:e.scaleIdentity(),yScale:e.scaleIdentity()});return a.values=function(e,c){var l=o(e,c),f=Ln(i,l),s=a.xScale(),h=a.yScale();if("vertical"===u){var d=h(r(e,c),c),g=h(n(e,c),c),v=s(t(e,c),c)+f;return{d:e,x:v,y:d,y0:g,width:l,height:d-g,origin:[v,d],baseOrigin:[v,g],transposedX:v,transposedY:d}}var m=s(r(e,c),c),p=s(n(e,c),c),y=h(t(e,c),c)+f;return{d:e,x:y,y:m,y0:p,width:l,height:m-p,origin:[m,y],baseOrigin:[p,y],transposedX:m,transposedY:y}},a.baseValue=function(){return arguments.length?(n=Cn(arguments.length<=0?void 0:arguments[0]),a):n},a.crossValue=function(){return arguments.length?(t=Cn(arguments.length<=0?void 0:arguments[0]),a):t},a.mainValue=function(){return arguments.length?(r=Cn(arguments.length<=0?void 0:arguments[0]),a):r},a.bandwidth=function(){return arguments.length?(o=Cn(arguments.length<=0?void 0:arguments[0]),a):o},a.align=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],a):u},a},Bn={red:"#c60",green:"#6c0",black:"#000",gray:"#ddd",darkGray:"#999"},Nn=function(){var n=jn(),t=c.line().x(function(t,e){return n.values(t,e).transposedX}).y(function(t,e){return n.values(t,e).transposedY}),e=pn("path","line"),r=function(r){r.selection&&e.transition(r),t.defined(n.defined()),r.each(function(r,i,o){var u=e(a.select(o[i]),[r]);u.enter().attr("fill","none").attr("stroke",Bn.black),u.attr("d",t),n.decorate()(u,r,i)})};return _(r,n,T("baseValue","bandwidth","align")),S(r,e,"key"),S(r,t,"curve"),r},qn=function(){var n=jn(),t=c.line().x(function(t,e){return n.values(t,e).transposedX}).y(function(t,e){return n.values(t,e).transposedY}),e=function(e){var r=t.context();r.beginPath(),t.defined(n.defined())(e),r.strokeStyle=Bn.black,r.fillStyle="transparent",n.decorate()(r,e),r.fill(),r.stroke(),r.closePath()};return _(e,n,T("baseValue","bandwidth","align")),S(e,t,"curve","context"),e},Qn=function(){var n=c.symbol(),t=jn(),e=pn("g","point"),r=function(n){return"translate("+n[0]+", "+n[1]+")"},i=function(i){i.selection&&e.transition(i),i.each(function(i,o,u){var c=i.filter(t.defined()),l=e(a.select(u[o]),c);l.enter().attr("transform",function(n,e){return r(t.values(n,e).origin)}).attr("fill",Bn.gray).attr("stroke",Bn.black).append("path"),l.attr("transform",function(n,e){return r(t.values(n,e).origin)}).select("path").attr("d",n),t.decorate()(l,i,o)})};return _(i,t,T("baseValue","bandwidth","align")),S(i,e,"key"),S(i,n,"type","size"),i},Gn=function(){var n=c.symbol(),t=jn(),e=function(e){var r=e.filter(t.defined()),i=n.context();r.forEach(function(r,o){i.save();var u=t.values(r,o);i.translate(u.origin[0],u.origin[1]),i.beginPath(),n(e),i.strokeStyle=Bn.black,i.fillStyle=Bn.gray,t.decorate()(i,r,o),i.fill(),i.stroke(),i.closePath(),i.restore()})};return _(e,t,T("baseValue","bandwidth","align")),S(e,n,"size","type","context"),e},Un=function(){var n=hn().x(0).y(0),t=jn(),e=pn("g","bar"),r=function(n){return"vertical"===t.orient()?n.height:n.width},i=function(n){return"vertical"===t.orient()?n.width:n.height},o=function(n){return"translate("+n[0]+", "+n[1]+")"},u=function(u){u.selection&&e.transition(u),u.each(function(u,c,l){var f=t.orient();if("vertical"!==f&&"horizontal"!==f)throw new Error("The bar series does not support an orientation of "+f);var s=u.filter(t.defined()),h=s.map(t.values);n.width(0).height(0),"vertical"===t.orient()?(n.verticalAlign("top"),n.horizontalAlign("center")):(n.horizontalAlign("right"),n.verticalAlign("center"));var d=e(a.select(l[c]),s);d.enter().attr("transform",function(n,t){return o(h[t].baseOrigin)}).attr("class","bar "+t.orient()).attr("fill",Bn.darkGray).append("path").attr("d",function(t,e){return i(n)(h[e].width),n([t])}),d.attr("transform",function(n,t){return o(h[t].origin)}).select("path").attr("d",function(t,e){return i(n)(h[e].width),r(n)(-h[e].height),n([t])}),t.decorate()(d,s,c)})};return _(u,t),S(u,e,"key"),u},Fn=function(){var n=jn(),t=hn().x(0).y(0),e=function(t){return"vertical"===n.orient()?t.height:t.width},r=function(t){return"vertical"===n.orient()?t.width:t.height},i=function(i){var o=t.context(),u=i.filter(n.defined()),a=u.map(n.values);"vertical"===n.orient()?(t.verticalAlign("top"),t.horizontalAlign("center")):(t.horizontalAlign("right"),t.verticalAlign("center")),a.forEach(function(i,u){o.save(),o.beginPath(),o.translate(i.origin[0],i.origin[1]),e(t)(-i.height),r(t)(i.width),t([i]),o.fillStyle=Bn.darkGray,o.strokeStyle="transparent",n.decorate()(o,i.d,u),o.fill(),o.stroke(),o.closePath(),o.restore()})};return _(i,n),S(i,t,"context"),i},Hn=function(){var n=function(n){return n.high},t=function(n){return n.low},r=function(n){return n.cross},i="vertical",o="center",u=function(){return 5},a=Rn({decorate:function(){},defined:function(e,i){return y(t,n,r)(e,i)},xScale:e.scaleIdentity(),yScale:e.scaleIdentity()});return a.values=function(e,c){var l=u(e,c),f=Ln(o,l),s=a.xScale(),h=a.yScale();if("vertical"===i){var d=h(n(e,c));return{origin:[s(r(e,c))+f,d],high:0,low:h(t(e,c))-d,width:l}}var g=s(t(e,c));return{origin:[g,h(r(e,c))+f],high:s(n(e,c))-g,low:0,width:l}},a.orient=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a.lowValue=function(){return arguments.length?(t=Cn(arguments.length<=0?void 0:arguments[0]),a):t},a.highValue=function(){return arguments.length?(n=Cn(arguments.length<=0?void 0:arguments[0]),a):n},a.crossValue=function(){return arguments.length?(r=Cn(arguments.length<=0?void 0:arguments[0]),a):r},a.bandwidth=function(){return arguments.length?(u=Cn(arguments.length<=0?void 0:arguments[0]),a):u},a.align=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],a):o},a},Yn=function(){var n=Hn(),t=pn("g","error-bar"),e=vn().value(0),r=function(n){return function(t){return n.selection?t.transition(n):t}},i=function(n){return"translate("+n.origin[0]+", "+n.origin[1]+")"},o=function(o){o.selection&&t.transition(o);var u=r(o);o.each(function(r,o,c){var l=r.filter(n.defined()),f=l.map(n.values),s=t(a.select(c[o]),l);s.enter().attr("stroke",Bn.black).attr("fill",Bn.gray).attr("transform",function(t,e){return i(n.values(t,e))+" scale(1e-6, 1)"}).append("path"),e.orient(n.orient()),s.each(function(n,t,r){var o=f[t];e.high(o.high).low(o.low).width(o.width),u(a.select(r[t])).attr("transform",i(o)+" scale(1)").select("path").attr("d",e([n]))}),n.decorate()(s,r,o)})};return _(o,n),S(o,t,"key"),o},Xn=function(){var n=Hn(),t=vn().value(0),e=function(e){var r=e.filter(n.defined()),i=t.context();t.orient(n.orient()),r.forEach(function(e,r){i.save();var o=n.values(e,r);i.translate(o.origin[0],o.origin[1]),i.beginPath(),t.high(o.high).width(o.width).low(o.low)([e]),i.strokeStyle=Bn.black,i.fillStyle=Bn.gray,n.decorate()(i,e,r),i.fill(),i.stroke(),i.closePath(),i.restore()})};return _(e,n),S(e,t,"context"),e},Kn=function(){var n=jn(),t=c.area(),e=pn("path","area"),r=function(r){r.selection&&e.transition(r),t.defined(n.defined()),r.each(function(r,i,o){var u=r.map(n.values);t.x(function(n,t){return u[t].transposedX}).y(function(n,t){return u[t].transposedY});var c="vertical"===n.orient()?"y":"x";t[c+"0"](function(n,t){return u[t].y0}),t[c+"1"](function(n,t){return u[t].y});var l=e(a.select(o[i]),[r]);l.enter().attr("fill",Bn.gray),l.attr("d",t),n.decorate()(l,r,i)})};return _(r,n,T("bandwidth","align")),S(r,e,"key"),S(r,t,"curve"),r},Wn=function(){var n=jn(),t=c.area(),e=function(e){var r=t.context();t.defined(n.defined());var i=e.map(n.values);t.x(function(n,t){return i[t].transposedX}).y(function(n,t){return i[t].transposedY});var o="vertical"===n.orient()?"y":"x";t[o+"0"](function(n,t){return i[t].y0}),t[o+"1"](function(n,t){return i[t].y}),r.beginPath(),t(e),r.fillStyle=Bn.gray,r.strokeStyle="transparent",n.decorate()(r,e),r.fill(),r.stroke(),r.closePath()};return _(e,n,T("bandwidth","align")),S(e,t,"curve","context"),e},Jn=function(){var n=void 0,t=function(n){return n.date},r=function(n){return n.open},i=function(n){return n.high},o=function(n){return n.low},u=function(n){return n.close},a=function(){return 5},c="center",l=function(e,r){return n.xScale()(t(e,r))};return n=Rn({decorate:function(){},defined:function(n,e){return y(t,r,o,i,u)(n,e)},xScale:e.scaleIdentity(),yScale:e.scaleIdentity()}),n.values=function(t,e){var f=u(t,e),s=r(t,e),h=a(t,e),d=Ln(c,h),g="";return f>s?g="up":f<s&&(g="down"),{cross:l(t,e)+d,open:n.yScale()(s),high:n.yScale()(i(t,e)),low:n.yScale()(o(t,e)),close:n.yScale()(f),width:h,direction:g}},n.crossValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n.openValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],n):r},n.highValue=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],n):i},n.lowValue=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],n):o},n.yValue=n.closeValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],n):u},n.bandwidth=function(){return arguments.length?(a=Cn(arguments.length<=0?void 0:arguments[0]),n):a},n.align=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],n):c},n},Zn=function(n,t){var e=Jn(),r=pn("g",t),i=function(n){return"translate("+n.cross+", "+n.high+")"},o=function(n){return function(t){return n.selection?t.transition(n):t}},u=function(u){u.selection&&r.transition(u);var c=o(u);u.each(function(o,u,l){var f=o.filter(e.defined()),s=r(a.select(l[u]),f);s.enter().attr("transform",function(n,t){return i(e.values(n,t))+" scale(1e-6, 1)"}).append("path"),s.each(function(r,o,u){var l=e.values(r,o),f="up"===l.direction?Bn.green:Bn.red,s=c(a.select(u[o])).attr("class",t+" "+l.direction).attr("stroke",f).attr("fill",f).attr("transform",function(){return i(l)+" scale(1)"});n.x(0).width(l.width).open(function(){return l.open-l.high}).high(0).low(function(){return l.low-l.high}).close(function(){return l.close-l.high}),s.select("path").attr("d",n([r]))}),e.decorate()(s,o,u)})};return S(u,r,"key"),_(u,e),u},$n=function(){return Zn(dn(),"candlestick")},nt=function(n){var t=Jn(),e=function(e){var r=e.filter(t.defined()),i=n.context();r.forEach(function(e,r){i.save();var o=t.values(e,r);i.translate(o.cross,o.high),i.beginPath(),n.x(0).open(function(){return o.open-o.high}).width(o.width).high(0).low(function(){return o.low-o.high}).close(function(){return o.close-o.high})([e]);var u="up"===o.direction?Bn.green:Bn.red;i.strokeStyle=u,i.fillStyle=u,t.decorate()(i,e,r),i.fill(),i.stroke(),i.closePath(),i.restore()})};return S(e,n,"context"),_(e,t),e},tt=function(){return nt(dn())},et=function(){var n=function(n){return n.upperQuartile},t=function(n){return n.lowerQuartile},r=function(n){return n.high},i=function(n){return n.low},o=function(n){return n.value},u=function(n){return n.median},a="vertical",c="center",l=function(){return 5},f=Rn({decorate:function(){},defined:function(e,a){return y(i,r,t,n,o,u)(e,a)},xScale:e.scaleIdentity(),yScale:e.scaleIdentity()});return f.values=function(e,s){var h=l(e,s),d=Ln(c,h),g=f.xScale(),v=f.yScale();if("vertical"===a){var m=v(r(e,s));return{origin:[g(o(e,s))+d,m],high:0,upperQuartile:v(n(e,s))-m,median:v(u(e,s))-m,lowerQuartile:v(t(e,s))-m,low:v(i(e,s))-m,width:h}}var p=g(i(e,s));return{origin:[p,v(o(e,s))+d],high:g(r(e,s))-p,upperQuartile:g(n(e,s))-p,median:g(u(e,s))-p,lowerQuartile:g(t(e,s))-p,low:0,width:h}},f.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],f):a},f.lowerQuartileValue=function(){return arguments.length?(t=Cn(arguments.length<=0?void 0:arguments[0]),f):t},f.upperQuartileValue=function(){return arguments.length?(n=Cn(arguments.length<=0?void 0:arguments[0]),f):n},f.lowValue=function(){return arguments.length?(i=Cn(arguments.length<=0?void 0:arguments[0]),f):i},f.highValue=function(){return arguments.length?(r=Cn(arguments.length<=0?void 0:arguments[0]),f):r},f.crossValue=function(){return arguments.length?(o=Cn(arguments.length<=0?void 0:arguments[0]),f):o},f.medianValue=function(){return arguments.length?(u=Cn(arguments.length<=0?void 0:arguments[0]),f):u},f.bandwidth=function(){return arguments.length?(l=Cn(arguments.length<=0?void 0:arguments[0]),f):l},f.align=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},f},rt=function(){var n=et(),t=pn("g","box-plot"),e=gn().value(0),r=function(n){return function(t){return n.selection?t.transition(n):t}},i=function(n){return"translate("+n.origin[0]+", "+n.origin[1]+")"},o=function(o){o.selection&&t.transition(o);var u=r(o);o.each(function(r,o,c){var l=r.filter(n.defined()),f=t(a.select(c[o]),l);f.enter().attr("stroke",Bn.black).attr("fill",Bn.gray).attr("transform",function(t,e){return i(n.values(t,e))+" scale(1e-6, 1)"}).append("path"),e.orient(n.orient()),f.each(function(t,r,o){var c=n.values(t,r);e.median(c.median).upperQuartile(c.upperQuartile).lowerQuartile(c.lowerQuartile).width(c.width).high(c.high).low(c.low),u(a.select(o[r])).attr("transform",i(c)).select("path").attr("d",e([t]))}),n.decorate()(f,r,o)})};return _(o,n),S(o,t,"key"),S(o,e,"cap"),o},it=function(){var n=et(),t=gn().value(0),e=function(e){var r=e.filter(n.defined()),i=t.context();t.orient(n.orient()),r.forEach(function(e,r){i.save();var o=n.values(e,r);i.translate(o.origin[0],o.origin[1]),i.beginPath(),t.median(o.median).upperQuartile(o.upperQuartile).lowerQuartile(o.lowerQuartile).high(o.high).width(o.width).low(o.low)([e]),i.fillStyle=Bn.gray,i.strokeStyle=Bn.black,n.decorate()(i,e,r),i.fill(),i.stroke(),i.closePath(),i.restore()})};return _(e,n),S(e,t,"cap","context"),e},ot=function(){return Zn(sn(),"ohlc")},ut=function(){return nt(sn())},at=function(){var n=[],t=function(n){return n},r=function(n,t){return t},i=Rn({decorate:function(){},xScale:e.scaleIdentity(),yScale:e.scaleIdentity()});return i.mapping=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.key=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.series=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i},ct=function(){var n=at(),t=pn("g"),e=pn("g","multi"),r=function(r){r.selection&&(e.transition(r),t.transition(r));var i=n.mapping(),o=n.series(),u=n.xScale(),c=n.yScale();r.each(function(r,l,f){var s=e(a.select(f[l]),o);s.each(function(n,e,l){n.xScale(u).yScale(c);var f=i(r,e,o);t(a.select(l[e]),[f]).call(n)}),(s.selection?s.selection():s).order(),n.decorate()(s,r,l)})};return _(r,n),S(r,e,"key"),r},lt=function(){var n=null,t=at(),e=function(e){var r=t.mapping(),i=t.series(),o=t.xScale(),u=t.yScale();i.forEach(function(a,c){var l=r(e,c,i);a.context(n).xScale(o).yScale(u);var f=a.decorate();a.decorate(function(n,r,i){t.decorate()(n,e,c),f(n,r,i)}),a(l),a.decorate(f)})};return e.context=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],e):n},_(e,t),e},ft=function(n){var r=function(){return 50},i="center",o=e.scaleBand(),u=Rn({decorate:function(){},xScale:e.scaleLinear()});return u.offsetScaleForDatum=function(n,e,u){var a=r(e,u),c=Ln(i,a),l=a/2;return o.domain(t.range(0,n.length)).range([-l+c,l+c])},u.bandwidth=function(){return arguments.length?(r=Cn(arguments.length<=0?void 0:arguments[0]),u):r},u.align=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],u):i},_(u,o,D({paddingInner:"paddingOuter"})),u},st=function(n){var t=ft(),e=pn("g","grouped"),r=function(r){r.selection&&e.transition(r),r.each(function(r,i,o){var u=e(a.select(o[i]),r);u.enter().append("g"),u.select("g").each(function(e,i,o){var u=a.select(o[i]),c=function(n,e){var o=t.offsetScaleForDatum(r,n,e);return t.xScale()(n)+o(i)+o.bandwidth()/2};n.xScale(c),n.bandwidth&&n.bandwidth(function(n,e){return t.offsetScaleForDatum(r,n,e).bandwidth()}),n.decorate(function(n,e){return t.decorate()(n,e,i)}),u.call(n)})})};return _(r,n,T("decorate","xScale")),_(r,t,T("offsetScaleForDatum")),r},ht=function(n){var t=ft(),e=function(e){e.forEach(function(r,i){var o=function(n,r){var o=t.offsetScaleForDatum(e,n,r);return t.xScale()(n)+o(i)+o.bandwidth()/2};n.xScale(o),n.bandwidth&&n.bandwidth(function(n,r){return t.offsetScaleForDatum(e,n,r).bandwidth()}),n.decorate(function(n,e){return t.decorate()(n,e,i)}),n(r)})};return _(e,n,T("decorate","xScale")),_(e,t,T("configureOffsetScale","configureOffset")),e},dt=function(){var n="vertical",t=Nn(),e=ct(),r=function(r){return r.each(function(r,i,o){"vertical"===n?e.series(r[0].map(function(n){return t})).mapping(function(n,t){return n.map(function(n){return n[t]})}):e.series(r.map(function(n){return t})).mapping(function(n,t){return n[t]}),a.select(o[i]).call(e)})};return r.series=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.orient=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},_(r,e,T("series","mapping")),r},gt=function(){var n="vertical",t=qn(),e=lt(),r=function(r){"vertical"===n?e.series(r[0].map(function(n){return t})).mapping(function(n,t){return n.map(function(n){return n[t]})}):e.series(r.map(function(n){return t})).mapping(function(n,t){return n[t]}),e(r)};return r.series=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.orient=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},_(r,e,T("series","mapping")),r},vt=function(n){return n.sort(t.ascending).filter(function(n,t,e){return-1===e.indexOf(n,t+1)})},mt=function(n){var e=.75,r=function(n){if(n.length<=1)return 10;n=vt(n);var r=t.pairs(n).map(function(n){return Math.abs(n[0]-n[1])}),i=t.min(r);return e*i},i=function(t,e,i){if(t.bandwidth)return t.bandwidth();var o,u=Array.isArray(e)?(o=[]).concat.apply(o,Q(e)):e,a=u.filter(n.defined()).map(i()).map(t);return r(a)},o=function(t){var e=function(t){if(n.xBandwidth&&n.yBandwidth)n.xBandwidth(i(n.xScale(),t,n.xValue)),n.yBandwidth(i(n.yScale(),t,n.yValue));else{var e=n.orient&&"horizontal"===n.orient()?n.yScale():n.xScale();n.bandwidth(i(e,t,n.crossValue))}};t instanceof a.selection?t.each(function(t,r,i){e(t),n(a.select(i[r]))}):(e(t),n(t))};return _(o,n),o.widthFraction=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o},pt=function(){var n=function(n){return n.x},r=function(n){return n.y},i=function(n){return n.color},o=function(){return 5},u=function(){return 5},a=e.interpolateViridis,c=Rn({decorate:function(){},defined:function(t,e){return y(n,r,i)(t,e)},xScale:e.scaleIdentity(),yScale:e.scaleIdentity()});return c.pathGenerator=hn().x(0).y(0),c.colorScale=function(n){var r=n.map(i);return e.scaleLinear().domain([t.min(r),t.max(r)])},c.values=function(t,e){return{x:c.xScale()(n(t,e)),y:c.yScale()(r(t,e)),colorValue:i(t,e),width:u(t,e),height:o(t,e)}},c.xValue=function(){return arguments.length?(n=Cn(arguments.length<=0?void 0:arguments[0]),c):n},c.yValue=function(){return arguments.length?(r=Cn(arguments.length<=0?void 0:arguments[0]),c):r},c.colorValue=function(){return arguments.length?(i=Cn(arguments.length<=0?void 0:arguments[0]),c):i},c.colorInterpolate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],c):a},c.xBandwidth=function(){return arguments.length?(u=Cn(arguments.length<=0?void 0:arguments[0]),c):u},c.yBandwidth=function(){return arguments.length?(o=Cn(arguments.length<=0?void 0:arguments[0]),c):o},_(c,c.pathGenerator,D({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),c},yt=function(){var n=pt(),t=pn("g","box"),e=function(n){return"translate("+n.x+", "+n.y+")"},r=function(r){r.each(function(r,i,o){var u=r.filter(n.defined()),c=n.colorValue(),l=n.colorInterpolate(),f=n.colorScale(u),s=t(a.select(o[i]),u);s.enter().append("path").attr("stroke","transparent"),s.attr("transform",function(t,r){return e(n.values(t,r))}).select("path").attr("d",function(t,e){return n.pathGenerator.width(n.values(t,e).width).height(n.values(t,e).height)([t])}).attr("fill",function(n,t){return l(f(c(n,t)))}),n.decorate()(s,r,i)})};return _(r,n),r},wt=function(){var n=pt(),t=function(t){var e=t.filter(n.defined()),r=(n.colorValue(),n.colorInterpolate()),i=n.colorScale(e),o=n.pathGenerator.context();e.forEach(function(t,e){o.save(),o.beginPath();var u=n.values(t,e);o.translate(u.x,u.y),o.fillStyle=r(i(u.colorValue)),o.strokeStyle="transparent",n.pathGenerator.height(u.height).width(u.width)([t]),n.decorate()(o,t,e),o.fill(),o.stroke(),o.closePath(),o.restore()})};return S(t,n.pathGenerator,"context"),_(t,n),t},xt=function(n){return"function"==typeof n?n:function(){return n}},bt=function(){var n=e.scaleIdentity(),t=e.scaleIdentity(),r="horizontal",i=function(n){return n.from},o=function(n){return n.to},u=function(){},c=pn("g","annotation-band"),l=hn().horizontalAlign("center").verticalAlign("center").x(0).y(0),f=function(e){if(e.selection&&c.transition(e),"horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var f="horizontal"===r,s=f?function(n,t){return"translate("+n+", "+t+")"}:function(n,t){return"translate("+t+", "+n+")"},h=f?n:t,d=f?t:n,g=h.range(),v=g[1]-g[0],m=f?"height":"width",p=f?"width":"height",y=function(){return s((g[1]+g[0])/2,(d(o.apply(void 0,arguments))+d(i.apply(void 0,arguments)))/2)};l[p](v),l[m](function(){return d(o.apply(void 0,arguments))-d(i.apply(void 0,arguments))}),e.each(function(n,t,e){var i=c(a.select(e[t]),n);i.enter().attr("transform",y).append("path").classed("band",!0),i.attr("class","annotation-band "+r).attr("transform",y).select("path").attr("d",function(n,t){return l([n],t)}),u(i,n,t)})};return f.xScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],f):n},f.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],f):t},f.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],f):r},f.decorate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],f):u},f.fromValue=function(){return arguments.length?(i=xt(arguments.length<=0?void 0:arguments[0]),f):i},f.toValue=function(){return arguments.length?(o=xt(arguments.length<=0?void 0:arguments[0]),f):o},f},St=function(){var n=e.scaleIdentity(),t=e.scaleIdentity(),r=function(n){return n},i=r,o=function(){},u="horizontal",c=pn("g","annotation-line"),l=function(e){if(e.selection&&c.transition(e),"horizontal"!==u&&"vertical"!==u)throw new Error("Invalid orientation");var l="horizontal"===u,f=l?function(n,t){return"translate("+n+", "+t+")"}:function(n,t){return"translate("+t+", "+n+")"},s=l?"x2":"y2",h=l?n:t,d=l?t:n,g=l?"left-handle":"bottom-handle",v=l?"right-handle":"top-handle",m=l?"9":"0",p=l?"0":"9",y=l?"0.32em":"0.71em",w=l?"start":"middle",x=h.range(),b=function(){return f(x[0],d(r.apply(void 0,arguments)))},S=x[1]-x[0];e.each(function(n,t,e){var r=c(a.select(e[t]),n),l=r.enter().attr("transform",b).style("stroke","#bbb");l.append("line").attr(s,S),l.append("g").classed(g,!0).style("stroke","none"),l.append("g").classed(v,!0).style("stroke","none").attr("transform",f(S,0)).append("text").attr("text-anchor",w).attr("x",m).attr("y",p).attr("dy",y),r.attr("class","annotation-line "+u),r.attr("transform",b),r.select("line").attr(s,S),r.select("g."+v).attr("transform",f(S,0)),r.select("text").text(i),o(r,n,t)})};return l.xScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],l):n},l.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.value=function(){return arguments.length?(r=xt(arguments.length<=0?void 0:arguments[0]),l):r},l.label=function(){return arguments.length?(i=xt(arguments.length<=0?void 0:arguments[0]),l):i},l.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],l):o},l.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],l):u},l},kt=function(){var n=function(n){return n.x},t=function(n){return n.y},r=e.scaleIdentity(),i=e.scaleIdentity(),o=function(){},u=pn("g","annotation-crosshair"),c=Qn(),l=St(),f=St().orient("vertical"),s=e.scaleIdentity(),h=e.scaleIdentity(),d=ct().series([l,f,c]).xScale(s).yScale(h).mapping(function(n){return[n]}),g=function(e){e.selection&&u.transition(e),e.each(function(e,g,v){var m=u(a.select(v[g]),e);m.enter().style("pointer-events","none"),s.range(r.range()),h.range(i.range()),c.crossValue(n).mainValue(t),l.value(t),f.value(n),m.call(d),o(m,e,g)})};g.x=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],g):n},g.y=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],g):t},g.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],g):r},g.yScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],g):i},g.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],g):o};var v=E("label");return _(g,l,v,z("y")),_(g,f,v,z("x")),g},_t=function(){var n=e.scaleIdentity(),t=[10],r=null,i=function(){var e;return null!=r?r:n.ticks?(e=n).ticks.apply(e,Q(t)):n.domain()};return i.scale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.ticks=function(){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];return t=e,i},i.tickArguments=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.tickValues=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i},At=function(n){return n},Tt=function(){var n=function(){},t=function(){},e=_t(),r=_t(),i=pn("line","gridline-y").key(At),o=pn("line","gridline-x").key(At),u=function(u){u.selection&&(i.transition(u),o.transition(u)),u.each(function(u,c,l){var f=l[c],s=a.select(l[c]),h=e.scale(),d=r.scale(),g=f.__x_scale__||h;f.__x_scale__=h.copy();var v=e(),m=i(s,v);m.enter().attr("x1",g).attr("x2",g).attr("y1",d.range()[0]).attr("y2",d.range()[1]),m.attr("x1",h).attr("x2",h).attr("y1",d.range()[0]).attr("y2",d.range()[1]).attr("stroke","#bbb"),m.exit().attr("x1",h).attr("x2",h),n(m,v,c);var p=f.__y_scale__||d;f.__y_scale__=d.copy();var y=r(),w=o(s,y);w.enter().attr("y1",p).attr("y2",p).attr("x1",h.range()[0]).attr("x2",h.range()[1]),w.attr("y1",d).attr("y2",d).attr("x1",h.range()[0]).attr("x2",h.range()[1]).attr("stroke","#bbb"),w.exit().attr("y1",d).attr("y2",d),t(w,y,c)})};return u.yDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.xDecorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],u):n},_(u,i,D({key:"xKey"})),_(u,o,D({key:"yKey"})),_(u,e,z("x")),_(u,r,z("y")),u},Et=function(n){return n},Dt=function(n,t){var e=[10],r=null,i=function(){},o=null,u=6,l=6,f=3,s=c.line(),h=pn("g","tick").key(Et),d=pn("path","domain"),g=function(n,t){var e=0;return n.bandwidth&&(e=n.bandwidth()/2,n.round()&&(e=Math.round(e))),function(r){return t(n(r)+e,0)}},v=function(n,t){return p()?"translate("+t+", "+n+")":"translate("+n+", "+t+")"},m=function(n){return p()?n.map(function(n){return[n[1],n[0]]}):n},p=function(){return"left"===n||"right"===n},y=function(n,e,r){return t[n]?t[n].apply(t,e):r},w=function(c){c.selection&&(h.transition(c),d.transition(c)),c.each(function(c,w,x){var b=x[w],S=a.select(b);b.__scale__||S.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","right"===n?"start":"left"===n?"end":"middle");var k=b.__scale__||t;b.__scale__=t.copy();var _=null==r?y("ticks",e,t.domain()):r,A=null==o?y("tickFormat",e,Et):o,T="bottom"===n||"right"===n?1:-1,E=t.range(),D=m([[E[0],T*u],[E[0],0],[E[1],0],[E[1],T*u]]);d(S,[c]).attr("d",s(D)).attr("stroke","#000");var O=h(S,_);O.enter().attr("transform",g(k,v)).append("path").attr("stroke","#000");var z=T*(l+f);O.enter().append("text").attr("transform",v(0,z)).attr("fill","#000"),O.exit().attr("transform",g(t,v)),O.select("path").attr("d",function(n){return s(m([[0,0],[0,T*l]]))}),O.select("text").attr("transform",v(0,z)).attr("dy",function(){var t="0em";return p()?t="0.32em":"bottom"===n&&(t="0.71em"),t}).text(A),O.attr("transform",g(t,v)),i(O,c,w)})};return w.tickFormat=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],w):o},w.tickSize=function(){return arguments.length?(l=u=Number(arguments.length<=0?void 0:arguments[0]),w):l},w.tickSizeInner=function(){return arguments.length?(l=Number(arguments.length<=0?void 0:arguments[0]),w):l},w.tickSizeOuter=function(){return arguments.length?(u=Number(arguments.length<=0?void 0:arguments[0]),w):u},w.tickPadding=function(){
return arguments.length?(f=arguments.length<=0?void 0:arguments[0],w):f},w.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],w):i},w.scale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],w):t},w.ticks=function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return e=[].concat(t),w},w.tickArguments=function(){return arguments.length?(e=null==(arguments.length<=0?void 0:arguments[0])?[]:[].concat(Q(arguments.length<=0?void 0:arguments[0])),w):e.slice()},w.tickValues=function(){return arguments.length?(r=null==(arguments.length<=0?void 0:arguments[0])?[]:[].concat(Q(arguments.length<=0?void 0:arguments[0])),w):r.slice()},w},Ot=function(n){return Dt("top",n)},zt=function(n){return Dt("bottom",n)},Mt=function(n){return Dt("left",n)},Pt=function(n){return Dt("right",n)},It="__d3fc-elements__",Vt=function(n){return n[It]||{}},Ct=function(n,t){return void(n[It]=t)},Lt=function(n){return delete n[It]},Rt=function(n){return"D3FC-GROUP"===n.tagName?[n].concat(Q(n.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[n]},jt=function(n){var t=Vt(n),e=t.width,r=t.height,i=n.useDevicePixelRatio&&null!=global.devicePixelRatio?global.devicePixelRatio:1,o=n.clientWidth*i,u=n.clientHeight*i;Ct(n,{pixelRatio:i,width:o,height:u,resized:o!==e||u!==r})};if("function"!=typeof CustomEvent)throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var Bt=function(n){var t=Vt(n),e=new CustomEvent("measure",{detail:t});n.dispatchEvent(e)},Nt=function(n){var t=Vt(n),e=new CustomEvent("draw",{detail:t});n.dispatchEvent(e)},qt=function(n){var t=n.map(Rt).reduce(function(n,t){return n.concat(t)});t.forEach(jt),t.forEach(Bt),t.forEach(Nt)},Qt=function(n){return Vt(n.ownerDocument).queue||[]},Gt=function(n,t){var e=Vt(n.ownerDocument),r=e.requestId;null==r&&(r=requestAnimationFrame(function(){var t=Qt(n);qt(t),Ut(n)})),Ct(n.ownerDocument,{queue:t,requestId:r})},Ut=function(n){return Lt(n.ownerDocument)},Ft=function(n,t){var e=n;do{if(e.parentNode===t)return!0}while(e=e.parentNode);return!1},Ht=function(n){var t=Qt(n);if(!(t.indexOf(n)>-1)&&!t.some(function(t){return Ft(n,t)})){var e=t.filter(function(t){return!Ft(t,n)});e.push(n),Gt(n,e)}};if(Object.setPrototypeOf(w.prototype,HTMLElement.prototype),Object.setPrototypeOf(w,HTMLElement),"function"!=typeof HTMLElement)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Yt=function(n){null==n.__measureListener__&&(n.__measureListener__=function(t){return n.setMeasurements(t.detail)},n.addEventListener("measure",n.__measureListener__))},Xt=function(n){null!=n.__measureListener__&&(n.removeEventListener("measure",n.__measureListener__),n.__measureListener__=null)},Kt=function(n,t){return function(e){function r(){return L(this,r),B(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return j(r,e),R(r,[{key:"attributeChangedCallback",value:function(n){switch(n){case"use-device-pixel-ratio":this.requestRedraw()}}},{key:"connectedCallback",value:function(){0===this.childNodes.length&&this.appendChild(n()),Yt(this)}},{key:"disconnectedCallback",value:function(){Xt(this)}},{key:"setMeasurements",value:function(n){var e=n.width,r=n.height,i=q(this.childNodes),o=i[0];if(i.slice(1).length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");t(o,{width:e,height:r})}},{key:"requestRedraw",value:function(){Ht(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&"false"!==this.getAttribute("use-device-pixel-ratio")},set:function(n){n&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!n&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),r}(w)},Wt=Kt(function(){return document.createElement("canvas")},function(n,t){var e=t.width,r=t.height;n.setAttribute("width",e),n.setAttribute("height",r)});Object.setPrototypeOf(x.prototype,HTMLElement.prototype),Object.setPrototypeOf(x,HTMLElement);var Jt=function(n){n.autoResize?Zt(n):$t(n)},Zt=function(n){null==n.__autoResizeListener__&&(n.__autoResizeListener__=function(){return Ht(n)},addEventListener("resize",n.__autoResizeListener__))},$t=function(n){null!=n.__autoResizeListener__&&(removeEventListener("resize",n.__autoResizeListener__),n.__autoResizeListener__=null)},ne=function(n){function t(){return L(this,t),B(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,n),R(t,[{key:"connectedCallback",value:function(){Jt(this)}},{key:"disconnectedCallback",value:function(){$t(this)}},{key:"requestRedraw",value:function(){Ht(this)}},{key:"attributeChangedCallback",value:function(n){switch(n){case"auto-resize":Jt(this)}}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&"false"!==this.getAttribute("auto-resize")},set:function(n){n&&!this.autoResize?this.setAttribute("auto-resize",""):!n&&this.autoResize&&this.removeAttribute("auto-resize"),Jt(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),t}(x),te=Kt(function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")},function(n,t){var e=t.width,r=t.height;n.setAttribute("viewBox","0 0 "+e+" "+r)}),ee="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",re=document.createElement("style");if(re.setAttribute("type","text/css"),document.querySelector("head").appendChild(re),re.styleSheet?re.styleSheet.cssText+=ee:re.textContent+=ee,"object"!==("undefined"==typeof customElements?"undefined":C(customElements))||"function"!=typeof customElements.define)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");customElements.define("d3fc-canvas",Wt),customElements.define("d3fc-group",ne),customElements.define("d3fc-svg",te);var ie=function(){function n(){var n=a.mouse(this);e.call("point",this,[{x:n[0],y:n[1]}])}function t(){e.call("point",this,[])}var e=l.dispatch("point"),r=function(e){e.on("mouseenter.pointer",n).on("mousemove.pointer",n).on("mouseleave.pointer",t)};return S(r,e,"on"),r},oe=function(){var n="",t="vertical",e=function(n,t){return Number(n[t])},r=function(t){return Object.keys(t[0]).filter(function(t){return t!==n}).map(function(r){var i=t.filter(function(n){return n[r]}).map(function(t){var i=[t[n],e(t,r)];return i.data=t,i});return i.key=r,i})},i=function(t){return t.map(function(t){var r=Object.keys(t).filter(function(t){return t!==n}).map(function(n){var r=[n,e(t,n)];return r.data=t,r});return r.key=t[n],r})},o=function(n){return"vertical"===t?r(n):i(n)};return o.key=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.value=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o},ue=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];var r={},i=function(n){var t=!0,e=!1,i=void 0;try{for(var o,u=Object.keys(r)[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){var a=o.value;n[a](r[a])}}catch(n){e=!0,i=n}finally{try{!t&&u.return&&u.return()}finally{if(e)throw i}}return n},o=!0,u=!1,a=void 0;try{for(var c,l=t[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value;!function(n){i[n]=function(){return arguments.length?(r[n]=arguments.length<=0?void 0:arguments[0],i):r[n]}}(f)}}catch(n){u=!0,a=n}finally{try{!o&&l.return&&l.return()}finally{if(u)throw a}}return i},ae="d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}\nd3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;-ms-grid-row:1;-ms-grid-row:1;}\nd3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}\nd3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}\nd3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}",ce=document.createElement("style");ce.setAttribute("type","text/css"),document.querySelector("head").appendChild(ce),ce.styleSheet?ce.styleSheet.cssText+=ae:ce.textContent+=ae;var le=function(n){return"function"==typeof n?n:function(){return n}},fe=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.scaleIdentity(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.scaleIdentity(),r=le(""),i=le(""),o=le("right"),u=le("bottom"),c=lt(),l=ct(),f=ue("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding"),s=function(){},h=ue("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding"),d=function(){},g=function(){},v=pn("d3fc-group","cartesian-chart"),m=pn("d3fc-svg","x-axis").key(function(n){return n}),p=pn("d3fc-svg","y-axis").key(function(n){return n}),y=pn("div","x-label").key(function(n){return n}),w=pn("div","y-label").key(function(n){return n}),x=function(n){return function(t){return n.selection?t.transition(n):t}},b=function(e){var b=x(e);e.each(function(e,x,S){var k=v(a.select(S[x]),[e]);k.enter().attr("auto-resize","").html('<d3fc-svg class="plot-area"></d3fc-svg><d3fc-canvas class="plot-area"></d3fc-canvas>'),y(k,[u(e)]).attr("class",function(n){return"x-label "+n+"-label"}).text(r(e)),w(k,[o(e)]).attr("class",function(n){return"y-label "+n+"-label"}).text(i(e)),m(k,[u(e)]).attr("class",function(n){return"x-axis "+n+"-axis"}).on("measure",function(t,e,r){var i=a.event.detail,o=i.width,u=i.height;"top"===t&&a.select(r[e]).select("svg").attr("viewBox","0 "+-u+" "+o+" "+u),n.range([0,o])}).on("draw",function(t,e,r){var i="top"===t?Ot(n):zt(n);i.decorate(s),b(a.select(r[e])).select("svg").call(f(i))}),p(k,[o(e)]).attr("class",function(n){return"y-axis "+n+"-axis"}).on("measure",function(n,e,r){var i=a.event.detail,o=i.width,u=i.height;"left"===n&&a.select(r[e]).select("svg").attr("viewBox",-o+" 0 "+o+" "+u),t.range([u,0])}).on("draw",function(n,e,r){var i="left"===n?Mt(t):Pt(t);i.decorate(d),b(a.select(r[e])).select("svg").call(h(i))}),k.select("d3fc-canvas.plot-area").on("draw",function(e,r,i){var o=a.select(i[r]).select("canvas").node();c.context(o.getContext("2d")).xScale(n).yScale(t),c(e)}),k.select("d3fc-svg.plot-area").on("draw",function(e,r,i){l.xScale(n).yScale(t),b(a.select(i[r])).select("svg").call(l)}),k.each(function(n,t,e){return e[t].requestRedraw()}),g(k,e,x)})},S=T(/range\w*/,/tickFormat/);return _(b,n,S,z("x")),_(b,t,S,z("y")),_(b,f,z("x")),_(b,h,z("y")),b.xOrient=function(){return arguments.length?(u=le(arguments.length<=0?void 0:arguments[0]),b):u},b.yOrient=function(){return arguments.length?(o=le(arguments.length<=0?void 0:arguments[0]),b):o},b.xDecorate=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],b):s},b.yDecorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},b.xLabel=function(){return arguments.length?(r=le(arguments.length<=0?void 0:arguments[0]),b):r},b.yLabel=function(){return arguments.length?(i=le(arguments.length<=0?void 0:arguments[0]),b):i},b.canvasPlotArea=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b.svgPlotArea=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],b):l},b.decorate=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],b):g},b},se=function(n){return"function"==typeof n?n:function(){return n}},he=function(n,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.scaleIdentity(),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.scaleIdentity(),o=se(""),u=se(""),a=t,c=function(){},l=fe(r,i),f=function(t){n(l,a),l.decorate(function(n,t,e){n.enter().select(".x-label").style("height","1em").style("line-height","1em");var r=l.yOrient()(t);n.enter().append("div").attr("class","y-label-container").style("grid-column","left"===r?1:5).style("-ms-grid-column","left"===r?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),n.select(".y-label-container>.y-label").text(u),n.select(".top-label").style("margin-top","2em"),n.enter().append("div").attr("class","chart-label").style("grid-column",3).style("-ms-grid-column",3).style("grid-row",1).style("-ms-grid-row",1).style("height","2em").style("line-height","2em").style("text-align","center"),n.select(".chart-label").text(o(t)),c(n,t,e)}),t.call(l)};return _(f,l,E(/^x/,/^y/)),f.chartLabel=function(){return arguments.length?(o=se(arguments.length<=0?void 0:arguments[0]),f):o},f.yLabel=function(){return arguments.length?(u=se(arguments.length<=0?void 0:arguments[0]),f):u},f.plotArea=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],f):a},f.decorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},f}},de=he(function(n,t){return n.svgPlotArea(t)},Nn),ge=he(function(n,t){return n.canvasPlotArea(t)},qn),ve=function(n){switch(n){case"x":return f.brushX();case"y":return f.brushY();case"xy":return f.brush()}},me=function(n){return[n[1],n[0]]},pe=function(n){var t=ve(n),r=l.dispatch("brush","start","end"),i=e.scaleIdentity(),o=e.scaleIdentity(),u=pn("g","brush"),c=function(t,e,r){switch(n){case"x":return t.map(e);case"y":return t.map(r);case"xy":return[[e(t[0][0]),r(t[0][1])],[e(t[1][0]),r(t[1][1])]]}},f=function(n){return c(n,e.scaleLinear().domain(i.range()).invert,e.scaleLinear().domain(me(o.range())).invert)},s=function(n){return c(n,e.scaleLinear().domain(i.range()),e.scaleLinear().domain(me(o.range())))},h=function(t){var r=e.scaleLinear().domain(i.domain());return"x"===n?t.map(r.invert):"xy"===n?[r.invert(t[0][0]),r.invert(t[1][0])]:void 0},d=function(t){var r=e.scaleLinear().domain(me(o.domain()));return"y"===n?[t[1],t[0]].map(r.invert):"xy"===n?[r.invert(t[1][1]),r.invert(t[0][1])]:void 0},g=function(n){if(!n.sourceEvent||"draw"!==n.sourceEvent.type)if(n.selection){var t=s(n.selection);r.call(n.type,{},{selection:t,xDomain:h(t),yDomain:d(t)})}else r.call(n.type,{},{})},v=function(n){n.each(function(n,e,r){t.extent([[i.range()[0],o.range()[1]],[i.range()[1],o.range()[0]]]),t.on("end",function(){return g(a.event)}).on("brush",function(){return g(a.event)}).on("start",function(){return g(a.event)}),u(a.select(r[e]),[n]).call(t).call(t.move,n?f(n):null)})};return v.xScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],v):i},v.yScale=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],v):o},S(v,r,"on"),S(v,t,"filter","handleSize"),v},ye=function(){return pe("x")},we=function(){return pe("y")},xe=function(){return pe("xy")};n.indicatorBollingerBands=P,n.indicatorExponentialMovingAverage=I,n.indicatorMacd=V,n.indicatorRelativeStrengthIndex=G,n.indicatorStochasticOscillator=F,n.indicatorForceIndex=H,n.indicatorEnvelope=Y,n.indicatorElderRay=X,n.indicatorMovingAverage=U,n.scaleDiscontinuous=m,n.discontinuitySkipWeekends=W,n.discontinuityIdentity=K,n.discontinuityRange=J,n.extentLinear=Z,n.extentTime=$,n.extentDate=$,n.randomFinancial=tn,n.randomGeometricBrownianMotion=nn,n.randomSkipWeekends=en,n.feedGdax=rn,n.feedQuandl=on,n.bucket=un,n.largestTriangleOneBucket=an,n.largestTriangleThreeBucket=cn,n.modeMedian=ln,n.rebind=S,n.rebindAll=_,n.exclude=T,n.include=E,n.includeMap=D,n.prefix=z,n.shapeOhlc=sn,n.shapeBar=hn,n.shapeCandlestick=dn,n.shapeBoxPlot=gn,n.shapeErrorBar=vn,n.layoutLabel=yn,n.layoutTextLabel=wn,n.layoutGreedy=Dn,n.layoutAnnealing=Mn,n.layoutRemoveOverlaps=In,n.layoutBoundingBox=Vn,n.dataJoin=pn,n.effectivelyZero=1e-6,n.seriesSvgLine=Nn,n.seriesCanvasLine=qn,n.seriesSvgPoint=Qn,n.seriesCanvasPoint=Gn,n.seriesSvgBar=Un,n.seriesCanvasBar=Fn,n.seriesSvgErrorBar=Yn,n.seriesCanvasErrorBar=Xn,n.seriesSvgArea=Kn,n.seriesCanvasArea=Wn,n.seriesSvgCandlestick=$n,n.seriesCanvasCandlestick=tt,n.seriesSvgBoxPlot=rt,n.seriesCanvasBoxPlot=it,n.seriesSvgOhlc=ot,n.seriesCanvasOhlc=ut,n.seriesSvgMulti=ct,n.seriesCanvasMulti=lt,n.seriesSvgGrouped=st,n.seriesCanvasGrouped=ht,n.seriesSvgRepeat=dt,n.seriesCanvasRepeat=gt,n.autoBandwidth=mt,n.seriesSvgHeatmap=yt,n.seriesCanvasHeatmap=wt,n.annotationSvgBand=bt,n.annotationSvgCrosshair=kt,n.annotationSvgLine=St,n.annotationSvgGridline=Tt,n.axisTop=Ot,n.axisBottom=zt,n.axisLeft=Mt,n.axisRight=Pt,n.pointer=ie,n.group=oe,n.chartSvgCartesian=de,n.chartCanvasCartesian=ge,n.chartCartesian=fe,n.brushX=ye,n.brushY=we,n.brush=xe,Object.defineProperty(n,"__esModule",{value:!0})});